
WASHINGTON &mdash; President Obama announced on Friday that the last American soldier would leave Iraq by the end of this year, drawing to a close a divisive eight-year war that cost the lives of more than 4,400 troops, defined the presidency of George W. Bush, and helped ignite his own political rise.        

The decision leaves only a vestigial presence of Marine embassy guards and liaison officers staying on where more than a million troops, in all, have served.        

The president&rsquo;s statement, coming a day after a NATO air campaign hastened the death of Col. Muammar el-Qaddafi in Libya, was laden with symbolism, marking the ebb tide of a decade of American military engagement that began after the Sept. 11 terrorist attacks. It also capped a remarkable period of foreign-policy accomplishments for a president who is hindered by a poor economy at home.        

For Mr. Obama, whose rise to the White House was based partly on his opposition to the Iraq war but who as president ordered a troop buildup in Afghanistan and intensified drone strikes against militants in the region, the announcement fulfills a campaign promise. Its timing, after Colonel Qaddafi&rsquo;s death and the commando raid that killed Osama bin Laden, and just as the administration was taking its toughest stance yet on Pakistan&rsquo;s reluctance to root out militants along its border with Afghanistan, may help insulate him from Republican charges that he is weak on national security.        

&ldquo;Today, I can report that, as promised, the rest of our troops in Iraq will come home by the end of the year,&rdquo; the president said in a midday appearance at the White House. Anticipating what he called &ldquo;another season of homecomings,&rdquo; he declared, &ldquo;Our troops will definitely be home for the holidays.&rdquo;        

The complete withdrawal, which his political critics decried and his military team had worked hard to avert, was propelled by an irreconcilable dispute between the United States and Iraq over the legal immunity of a small force of military trainers that the Pentagon had planned to leave in the country. Though the president left open the possibility that trainers might still advise Iraqi troops, military officials said the chance of putting any significant American force there was slim.        

Mitt Romney, the Republican presidential candidate, among others, scorned Mr. Obama for putting the sacrifices of American troops at risk and questioned whether the president had been motivated by &ldquo;naked political calculation or simply sheer ineptitude in negotiations with the Iraqi government.&rdquo;        

Mr. Obama gave word of the decision to Prime Minister Nuri Kamal al-Maliki, who faces rough political crosswinds of his own over the timing of the departure, in a video conference call. Mr. Obama&rsquo;s aides described the call as &ldquo;poignant,&rdquo; with the Iraqi leader expressing thanks for the sacrifices of American soldiers. As of Jan. 1, 2012, Mr. Obama said, the two countries will begin &ldquo;a normal relationship between sovereign nations, an equal partnership based on mutual interest and mutual respect.&rdquo;        

The agreement to leave Iraq this year dates from late 2008, when Mr. Bush, before leaving office, made a farewell visit to Baghdad that was disrupted when an Iraqi journalist hurled his shoes at him and denounced him as a &ldquo;dog.&rdquo; American military officials had wanted a &ldquo;residual&rdquo; force of as many as tens of thousands of soldiers to remain past 2011 as an insurance policy against future violence.        

Those numbers were scaled back, but the expectation was that 3,000 to 5,000 American troops would remain. Some top American military officials were dismayed by the decision, saying Mr. Obama was putting the best face on a breakdown in tortured negotiations with the Iraqis.        

Pentagon lawyers insisted that the Iraqi Parliament grant soldiers immunity from legal prosecution. In recent weeks, American negotiators in Baghdad concluded that it would be impossible to obtain that protection, essentially scuttling any chance of a substantial troop presence there next year.        

Mr. Obama and Defense Secretary Leon E. Panetta kept the door open to further talks on trainers. While civilian and military officials characterized the withdrawal as a clean break, negotiations could always resume.        
Thom Shanker and Eric Schmitt contributed reporting from Washington, Michael S. Schmidt from Baghdad, and Elisabeth Bumiller en route to Indonesia.
