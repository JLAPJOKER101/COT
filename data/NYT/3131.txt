
JOHANNESBURG &mdash; After months of feuding, Somalia&rsquo;s bickering leaders on Thursday agreed on a compromise that extends the transitional government for one more year but, at the same time, led to the dismissal of the popular prime minister.        

Hundreds of civilians &mdash; and government troops &mdash; immediately indicated their displeasure over the firing by setting huge bonfires and erecting roadblocks in the streets of Somalia&rsquo;s capital, Mogadishu. Soldiers abandoned dozens of positions across the city, and civilians marched en masse through the bullet-pocked neighborhoods, waving pictures of Prime Minister Mohamed Abdullahi Mohamed. Many soldiers called him the only honest person in the government and said that under him they had been paid for the first time.        

&ldquo;We have enemies, whom we have been fighting against every day at the front lines, but now we have got another enemy behind us, which is very disappointing,&rdquo; said Omar Hassan Mohamed, a government soldier, alluding to the rivalries within the Somali government.        

The political squabbling started several months ago, when Sharif Hassan Sheik Aden, the speaker of Somalia&rsquo;s Parliament, threatened to call elections in August. The mandate for Somalia&rsquo;s transitional government, which is weak and survives solely on international support, was scheduled to end in August but Somalia&rsquo;s president, Sheik Sharif Sheik Ahmed, has refused to step down.        

Western powers seemed unsure what to do, because although Sheik Sharif has a reputation for being indecisive and ineffective, the United States and other Western countries have invested millions of dollars in propping up his government as a bulwark against Islamist insurgents who control much of Somalia. Susan Rice, the United States&rsquo; ambassador to the United Nations, recently threatened to cut off aid to the Somali government if the leaders could not solve this impasse.        

On Thursday in Kampala, Uganda, the impasse was broken when Sheik Sharif and Sharif Hassan agreed, in front of Uganda&rsquo;s president, Yoweri Museveni, to work together for one more year and to hold elections before August 2012.        

&ldquo;I am delighted that we have managed to overcome the deadlock in such a constructive way,&rdquo; said Augustine P. Mahiga, the United Nations&rsquo; political envoy for Somalia.        

But the cost of this agreement could be steep, analysts said. Mr. Mohamed, the prime minister, was widely considered one of the most professional and capable prime ministers Somalia has had for years. Among other things, he straightened up the payment of soldiers, making sure that lower level troops were paid and that commanders did not steal the money, as had been happening for years.        

According to United Nations officials who work on Somalia, the speaker of Parliament wanted to install his own supporters in the upper reaches of the government and insisted that if the president was going to stay for another year, the prime minister had to go. According to the agreement, the prime minister will resign in 30 days. The president essentially sacrificed the prime minister to keep his own job, analysts said.        

Somalia has been mired in uninterrupted civil war for the past 20 years, since the central government collapsed in 1991. The transitional government controls only a few square miles in a country nearly the size of Texas. In the past few months, African Union peacekeepers in Mogadishu have been pushing back Islamist insurgents and reclaiming neighborhoods. But the political bickering at the heart of the government seemed to be imperiling these gains, and many analysts think that despite this accord, the government will be unable to pacify the country.        

Security is still very tenuous, even in the zones controlled by the government. On Thursday, a suicide bomber blew himself up at Mogadishu&rsquo;s heavily guarded port, killing one person and wounding several others.        
Jeffrey Gettleman reported from Johannesburg, and a Somali employee of The New York Times from Mogadishu, Somalia.
